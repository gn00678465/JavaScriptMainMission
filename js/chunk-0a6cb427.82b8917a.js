(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0a6cb427"],{5592:function(t,e,o){"use strict";e["a"]={methods:{successNotify:function(t){this.$toast.success(t)},errorNotify:function(t){this.$toast.error(t)},dialogNotify:function(){}}}},7277:function(t,e,o){"use strict";o.r(e);var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("navbar",{attrs:{brand:t.brand,routers:t.getRouterPath,showIcons:!1},on:{LogoutBtn:t.logout}}),o("h2",[t._v("Dashboard")]),o("router-view")],1)},n=[],s=(o("4de4"),o("b0c0"),o("ac1f"),o("5319"),o("ccaa")),i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("nav",{staticClass:"navbar"},[o("div",{staticClass:"container nav"},[o("router-link",{staticClass:"nav__logo",attrs:{to:t.routers.path}},[t._v(t._s(t.brand))]),o("button",{staticClass:"nav__toggle"},[t._v("#")]),o("div",{staticClass:"nav__collapse"},[o("ul",{staticClass:"nav__list"},t._l(t.routers.children,(function(e){return o("router-link",{key:e.path,staticClass:"nav__item",attrs:{to:t.routers.path+"/"+e.path,tag:"li"}},[o("a",{staticClass:"nav__link",attrs:{href:"#"}},[t._v(t._s(e.meta.title))])])})),1)]),o("a",{staticClass:"nav__icon",on:{click:function(e){return e.preventDefault(),t.$emit("LogoutBtn")}}},[o("font-awesome-icon",{attrs:{icon:["fas","sign-out-alt"]}}),o("span",[t._v("登出")])],1)],1)])},c=[],r={name:"navbar",props:{brand:{required:!0},routers:{type:Object,required:!0},showIcons:{type:Boolean,required:!0}}},u=r,h=(o("8095"),o("2877")),d=Object(h["a"])(u,i,c,!1,null,"4d580e4a",null),p=d.exports,f=o("5592"),l={name:"Dashboard",components:{navbar:p},mixins:[s["a"],f["a"]],data:function(){return{token:"",err:{},brand:"後台管理系統"}},created:function(){this.token=this.getToken(),""===this.token?this.$router.replace("/login"):this.checkStatus()},methods:{logout:function(){this.SignOut(this.token)}},computed:{getRouterPath:function(){return this.$router.options.routes.filter((function(t){return"Dashboard"===t.name}))[0]}}},g=l,b=Object(h["a"])(g,a,n,!1,null,"266a118c",null);e["default"]=b.exports},8095:function(t,e,o){"use strict";var a=o("d901"),n=o.n(a);n.a},"99af":function(t,e,o){"use strict";var a=o("23e7"),n=o("d039"),s=o("e8b5"),i=o("861d"),c=o("7b0b"),r=o("50c4"),u=o("8418"),h=o("65f0"),d=o("1dde"),p=o("b622"),f=o("2d00"),l=p("isConcatSpreadable"),g=9007199254740991,b="Maximum allowed index exceeded",m=f>=51||!n((function(){var t=[];return t[l]=!1,t.concat()[0]!==t})),v=d("concat"),_=function(t){if(!i(t))return!1;var e=t[l];return void 0!==e?!!e:s(t)},k=!m||!v;a({target:"Array",proto:!0,forced:k},{concat:function(t){var e,o,a,n,s,i=c(this),d=h(i,0),p=0;for(e=-1,a=arguments.length;e<a;e++)if(s=-1===e?i:arguments[e],_(s)){if(n=r(s.length),p+n>g)throw TypeError(b);for(o=0;o<n;o++,p++)o in s&&u(d,p,s[o])}else{if(p>=g)throw TypeError(b);u(d,p++,s)}return d.length=p,d}})},b0c0:function(t,e,o){var a=o("83ab"),n=o("9bf2").f,s=Function.prototype,i=s.toString,c=/^\s*function ([^ (]*)/,r="name";a&&!(r in s)&&n(s,r,{configurable:!0,get:function(){try{return i.call(this).match(c)[1]}catch(t){return""}}})},ccaa:function(t,e,o){"use strict";o("99af"),o("ac1f"),o("5319");e["a"]={data:function(){return{isLoading:!1}},methods:{login:function(t){var e=this;this.isLoading=!0,this.$http.post("".concat("https://course-ec-api.hexschool.io/","api/auth/login"),t).then((function(t){200===t.status&&(e.redirection(t.data),e.successNotify(t.data.message),e.$router.replace("/admin"),e.isLoading=!1)})).catch((function(t){e.errorNotify(t.response.data.message),e.isLoading=!1}))},SignOut:function(t){var e=this;this.isLoading=!0,this.$http.post("".concat("https://course-ec-api.hexschool.io/","api/auth/logout"),{api_token:t}).then((function(t){200===t.status&&(e.successNotify(t.data.message),e.$router.replace("/login"),e.isLoading=!1)})).catch((function(t){e.errorNotify(t.response.data.message),e.isLoading=!1}))},redirection:function(t){var e=t.token,o=t.expired,a=new Date(1e3*o);document.cookie="HEXtoken=".concat(e,";path=/;expires=").concat(a)},getToken:function(){return document.cookie.replace(/(?:(?:^|.*;\s*)HEXtoken\s*=\s*([^;]*).*$)|^.*$/,"$1")},checkStatus:function(){var t=this;this.$http.post("".concat("https://course-ec-api.hexschool.io/","api/auth/check"),{api_token:this.token}).then((function(e){200===e.status&&(t.$http.defaults.headers.common.Authorization="Bearer ".concat(t.getToken()))})).catch((function(e){t.$router.replace("/login"),t.errorNotify(e.response.data.message)}))},getProductList:function(){var t=this;this.isLoading=!0,this.$http.get("".concat("https://course-ec-api.hexschool.io/","api/").concat("99034dfb-2d10-45b5-8844-dd3e163815eb","/admin/ec/products")).then((function(e){200===e.status&&(t.products=e.data.data,t.isLoading=!1)})).catch((function(e){t.isLoading=!1,t.errorNotify(e.response.data.message)}))},UploadFile:function(t){var e=this;this.$http.post("".concat("https://course-ec-api.hexschool.io/","api/").concat("99034dfb-2d10-45b5-8844-dd3e163815eb","/admin/storage"),t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){200===t.status&&(e.isUplading=!1,e.inputTemp.imageUrl.push(t.data.data.path))})).catch((function(t){e.isUplading=!1,e.errorNotify(t.response.data.message)}))},CreateProd:function(t){var e=this;this.$http.post("".concat("https://course-ec-api.hexschool.io/","api/").concat("99034dfb-2d10-45b5-8844-dd3e163815eb","/admin/ec/product"),t).then((function(t){200===t.status&&(e.getProductList(),e.successNotify("商品新增成功"))})).catch((function(t){e.errorNotify(t.response.data.message)}))},UpdateProd:function(t){var e=this;this.$http.patch("".concat("https://course-ec-api.hexschool.io/","api/").concat("99034dfb-2d10-45b5-8844-dd3e163815eb","/admin/ec/product/").concat(t.id),t).then((function(o){200===o.status&&(e.getProductList(),e.successNotify("".concat(t.title," 編輯成功")))})).catch((function(t){e.errorNotify(t.response.data.message)}))},destroyProduct:function(t){var e=this;this.isLoading=!0,this.$http.delete("".concat("https://course-ec-api.hexschool.io/","api/").concat("99034dfb-2d10-45b5-8844-dd3e163815eb","/admin/ec/product/").concat(t)).then((function(t){200===t.status&&e.getProductList()})).catch((function(t){e.errorNotify(t.response.data.message)}))}}}},d901:function(t,e,o){}}]);
//# sourceMappingURL=chunk-0a6cb427.82b8917a.js.map